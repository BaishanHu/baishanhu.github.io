

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>LaTeX on Github Pages+minimal mistakes+MathJax - Personal page</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Personal page">
<meta property="og:title" content="LaTeX on Github Pages+minimal mistakes+MathJax">


  <link rel="canonical" href="http://localhost:4000/posts/2020/04/blog-post-1/">
  <meta property="og:url" content="http://localhost:4000/posts/2020/04/blog-post-1/">



  <meta property="og:description" content="To have $\LaTeX$ equations on this website, which is run on Github Pages using Jekyll and AcademicPages (a fork of Minimal Mistakes), I had to make a few guesses, so here are the secrets.">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2021-10-10T00:00:00-07:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Baishan Hu",
      "url" : "http://localhost:4000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Personal page Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="57x57" href="http://localhost:4000/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="http://localhost:4000/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="http://localhost:4000/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="http://localhost:4000/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="http://localhost:4000/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="http://localhost:4000/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16">
<link rel="manifest" href="http://localhost:4000/images/manifest.json?v=M44lzPylqQ">
<link rel="mask-icon" href="http://localhost:4000/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="http://localhost:4000/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="http://localhost:4000/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="http://localhost:4000/assets/css/academicons.css"/>

<!--
      	bra: ["{\\left<#1\\right|}",1],
				ket: ["{\\left|#1\\right>}",1],
				braket: ["{\\left<#1\\right>}",1]
      processEscapes: true
-->

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\(","\\)"] ],
    },
		TeX: {
    	Macros: {
				bra: ["\\langle{#1}|", 1],
				ket: ["|{#1}\\rangle", 1],
        braket: ["\\langle{#1}\\rangle", 1],
				bk: ["\\langle{#1}|{#2}|{#3}\\rangle", 3]
    	}
  	}
	});

</script>
<!--
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML' async></script>
-->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- end custom head snippets -->


  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://localhost:4000/">Personal page</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/cv/">CV</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/research/">Research</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/publications/">Publications</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/talks/">Talks</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/teaching/">Teaching</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/code/">Code</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/misc/">Miscellaneous</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="http://localhost:4000/images/profile_Baishan.jpg" class="author__avatar" alt="Baishan Hu">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Baishan Hu</h3>
    <p class="author__bio">Postdoc at ORNL</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Oak Ridge, US</li>
      
      
      
      
        <li><a href="mailto:baishanhu4phys@gmail.com"><i class="fas fa-fw fa-envelope" aria-hidden="true"></i> Email</a></li>
      
      
       
      
      
      
      
      
      
      
      
      
        <li><a href="https://github.com/baishanhu"><i class="fab fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <li><a href="https://scholar.google.com/citations?user=h1UW7HwAAAAJ&hl=en"><i class="fas fa-fw fa-graduation-cap"></i> Google Scholar</a></li>
      
      
      
        <li><a href="https://orcid.org/0000-0001-8071-158X"><i class="ai ai-orcid-square ai-fw"></i> ORCID</a></li>
      
      
      
      
        <li><a href="https://www.arxiv.org/a/hu_b_3.html"><i class="fab fa-fw fa-arxiv" aria-hidden="true"></i> ArXiv</a></li>
      
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="LaTeX on Github Pages+minimal mistakes+MathJax">
    <meta itemprop="description" content="To have $\LaTeX$ equations on this website, which is run on Github Pages using Jekyll and AcademicPages (a fork of Minimal Mistakes), I had to make a few guesses, so here are the secrets.">
    <meta itemprop="datePublished" content="October 10, 2021">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">LaTeX on Github Pages+minimal mistakes+MathJax
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  3 minute read
	
</p>
          
        
        
        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2021-10-10T00:00:00-07:00">October 10, 2021</time></p>
        
        
             
        
    
        </header>
      

      <section class="page__content" itemprop="text">
        <p>To have $\LaTeX$ equations on this website, which is run on Github Pages using Jekyll and AcademicPages (a fork of Minimal Mistakes), I had to make a few guesses, so here are the secrets.</p>

<h2 id="setting-up-mathjax">Setting up MathJax</h2>

<p>First, the LaTeX code is interpreted using MathJax, which is loaded and configured in the file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_includes/head/custom.html
</code></pre></div></div>

<p>I modified the default configuration of MathJax to use ‘$$’ instead of ‘$’ to delimitate LaTeX code (but there is a catch) or adding some commands (macros) for quantum mechanics.</p>

<p>On the original repository, the version 2.7.4 is loaded by default, I changed it to the 2.7.7 just to have something more recent. I tried the version 3.0.5 and all the equations disappeared, so I did not insist. The modified part of the file looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;script type="text/x-mathjax-config"&gt;
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$$','$$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\(","\\)"] ],
    },
    TeX: {
      Macros: {
        bra: ["\\langle{#1}|", 1],
        ket: ["|{#1}\\rangle", 1],
        braket: ["\\langle{#1}\\rangle", 1],
        bk: ["\\langle{#1}|{#2}|{#3}\\rangle", 3]
     }
   }
  });
&lt;/script&gt;

&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML' async&gt;&lt;/script&gt;
</code></pre></div></div>

<p>The file mentioned is already included in the header of the default layout for pages which can be found at:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_layouts/default.html
</code></pre></div></div>

<p>Any page based on this layout or another layout based on it will benefit from MathJax automatically. 
At that point the only tricky part is to write equations that will be properly interpreted.</p>

<h2 id="writing-interpretable-latex">Writing interpretable \(\LaTeX\)</h2>

<p>It took me hours to figure out how to have aligned equations and matrices with the system powering this website, so here is what I believe I understood:</p>
<ul>
  <li>You need to tell Markdown (the language of the .md files) when LaTeX code starts and ends.</li>
  <li>Markdown accepts both LaTeX code surrounded by <code class="language-plaintext highlighter-rouge">\$\$</code> or directly between <code class="language-plaintext highlighter-rouge">\\begin{...}</code> and <code class="language-plaintext highlighter-rouge">\\end{...}</code> statements.</li>
  <li>Something I do not understand will wrap any LaTeX code surrounded by ‘$$’ that contains an ampersand (‘\&amp;’) with a ‘CODATA’ which will comment out the code by accident.</li>
  <li>LaTeX code directly between ‘begin’ and ‘end’ statements (no dollar sings) can contain ampersands if it is formatted as follows:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{equation}
\begin{aligned}
  ...
\end{aligned}
\end{equation}
</code></pre></div></div>

<p>The trick is the use of the ‘aligned’ environment from AMS. Why it is like that? I have no idea.</p>

<p>There are some additional rules that I had to guess. For example, between dollar signs underscores are interpreted directly as LaTeX code, but without the dollar signs Markdown seems to mess with them in some cases as shown below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$$ {X}_{0} $$ (works)
$$ X_0 $$ (works)

\begin{equation}
\begin{aligned}
  {X}_{0} (does not always work)
  {X}\_{0} (works)
  X_0 (works)
  \hat{a}_{b} (does not always work)
  \hat{a}_b (works)
  \hat{a}_{b+c} (works)
\end{aligned}
\end{equation}
</code></pre></div></div>

<p>A challenging part was to guess how to deal with spaces, linebreaks, and ampersands. In the example below, because there are no dollar signs for the reason explained above, the usual two backslashes must be quadrupled. From what I understood, there are escape backslashes for Markdown and other things and so many of them will disappear before the LaTeX code is interpreted by MathJax.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{equation}
\begin{aligned}
  {\sigma}_{1} =  
  \begin{pmatrix}
    0 &amp; 1 \\\\\\\\
    1 &amp; 0
  \end{pmatrix} 
\end{aligned}
\end{equation}
</code></pre></div></div>

<p>Finally, the last trick is for having, for example, a sum of matrices. No blank space is allowed at the end of each line, like in:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{equation}
\begin{aligned}
  X_0 \otimes X_1 =  
  \begin{pmatrix}
    0\begin{pmatrix} 
      0 &amp; 1 \\\\\\\\
      1 &amp; 0
    \end{pmatrix} &amp; 1\begin{pmatrix}
                      0 &amp; 1 \\\\\\\\
                      1 &amp; 0
                     \end{pmatrix} \\\\\\\\
    1\begin{pmatrix} 
      0 &amp; 1 \\\\\\\\
      1 &amp; 0
     \end{pmatrix} &amp; 0\begin{pmatrix}
                       0 &amp; 1 \\\\\\\\
                       1 &amp; 0
                      \end{pmatrix} 
  \end{pmatrix} = 
  \begin{pmatrix}
    0 &amp; 0 &amp; 0 &amp; 1 \\\\\\\\
    0 &amp; 0 &amp; 1 &amp; 0 \\\\\\\\
    0 &amp; 1 &amp; 0 &amp; 0 \\\\\\\\
    1 &amp; 0 &amp; 0 &amp; 0 
  \end{pmatrix}
\end{aligned}
\end{equation}
</code></pre></div></div>

<p>I hope this will help a few people.</p>


        
      </section>

      <footer class="page__meta">
        
        


  




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/tags/#latex" class="page__taxonomy-item" rel="tag">latex</a><span class="sep">, </span>
    
      
      
      <a href="http://localhost:4000/tags/#mathjax" class="page__taxonomy-item" rel="tag">mathjax</a>
    
    </span>
  </p>




      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/posts/2020/04/blog-post-1/" class="btn btn--twitter" title="Share on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/posts/2020/04/blog-post-1/" class="btn btn--facebook" title="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/posts/2020/04/blog-post-1/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

      


    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<a href="/sitemap/">Sitemap</a>
<!-- end custom footer snippets -->

        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http://github.com/baishanhu"><i class="fab fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Baishan Hu. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>









  </body>
</html>

